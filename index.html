<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" type="text/css" href="todostyle.css" />
        <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
        <script type="text/javascript" src="mystore.js"></script>
        
        <script id="profile-template" type="text/x-handlebars-template">
            <div>{{about.name}}: {{about.description}}</div>
        </script>
        <script id="people-template" type="text/x-handlebars-template">
            People:
            <div id="people">
                    {{#each objects}}{{> profile }}{{/each}}
            </div>
        </script>
        
        <script id="todo-template" type="text/x-handlebars-template">
            <div className="todo">
                <h4>{{label}}</h4>
                {{assignee}}
            </div>
        </script>
        <script id="todolist-template" type="text/x-handlebars-template">
            <h2>Todo List!</h2>
            {{#each objects}}{{> todo }}{{/each}}
            <h4>Add a new task</h4>
            <form className="todoForm" onSubmit="return store.handleSubmit(event, 'todos/');">
                <input type="text" placeholder="The task assignee" name="todos:assignee" />
                <input type="text" placeholder="What do you need to do today?" name="todos:label" />
                <input type="submit" value="Post" />
            </form>
        </script>
        
        <script>
            $(function(){
                window.store = new MyStore({
                    container: document.location.hash.slice(1)||"https://ldp.openinitiative.com:8443/2013/",
                    context: "http://owl.openinitiative.com/oiowl.jsonld",
                    template: $("#people-template").html(),
                    partials: {'profile': $("#profile-template").html(), 'todo': $("#todo-template").html()},
                });
                store.render("#profilebrowser", "people/");
                store.render("#todolist", "todos/", $("#todolist-template").html(), "http://owl.openinitiative.com/oitodo.jsonld");
            });
        </script>
    </head>
        <body>
        <div id="todolistcontainer">
            <div id="todolist">
            </div>
        </div>
    
        <div id="profilebrowsercontainer">
            <div id="profilebrowser">
            </div>
        </div>
    </body>
</html>
